<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
    <title>Directory tree</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" charset="utf-8" type="text/javascript">
</script>
    <style type="text/css">


    div.bar {
        display: block;
        width: 100px;
        height: 75px;   /* We'll override this later */
        background-color: teal;
        border: 1px solid black;
    }

    </style>
</head>

<body>
    <h1>Folders</h1>
    <script type="text/javascript">
var dataset;
d3.json("/data", function(error, json) {
        if(error) return console.warn(error)
        data = json;

        var w = 500;
        var h = 100;
        var barPadding = 1;
        var dataset = json.tree.root
        //Create SVG element
        var svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);
        svg.selectAll("rect")
           .data(dataset)
            .enter()
            .append("rect")
            .attr("x", function(d, i) {
                return i * (w / dataset.length);
                })
            .attr("y", 0)
            .attr("width", w / dataset.length - barPadding )
            .attr("height", 100)
            .attr("fill", "teal");
        svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .text(function(d) {
                           return d.name;
                               })
            .attr("x", function(d, i) {
                return i * (w / dataset.length ) +( w/dataset.length/3) ;
                    })
            .attr("y", h-15);

        }); 
    </script>
</body>
</html>

